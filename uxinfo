#!/bin/bash

os=$(uname -o 2>/dev/null || uname 2>/dev/null)
version="UXInfo v1.0-alpha_build"
if command -v cmatrix >/dev/null 2>&1; then
  canUseEasterEgg="YES"
else
  canUseEasterEgg="NO"
fi
hasLicense="YES"

while [[ $# -gt 0 ]]; do
  case "$1" in
    --help|-h)
      echo "
      usage: uxinfo [OPTIONS]
        --help or -h: display this help and exit
        --version or -v: display UXInfo version
        nothing at all: print info about the system


      "
      if [[ $canUseEasterEgg -eq "YES" ]]; then
        echo "This UXInfo can follow the white rabbit"
        exit
      else
        exit
      fi
      ;;
    --version|-v)
      cat <<'EOF'
 _   ___  _____ _   _ _____ ___
| | | \ \/ /_ _| \ | |  ___/ _ \
| | | |\  / | ||  \| | |_ | | | |
| |_| |/  \ | || |\  |  _|| |_| |
 \___//_/\_\___|_| \_|_|   \___/
EOF
      echo $version
      if [[ $hasLicense -eq "NO" ]]; then
        echo "Not a public release"
      else
        cat LICENSE 2>/dev/null
      fi
      exit
      ;;
    matrix)
      if [[ $canUseEasterEgg -eq "YES" ]]; then
        cmatrix 2>/dev/null
      else
        echo "Uh oh! Confidential!"
      fi
      ;;
    *)
      :
      ;;
  esac
  shift
done

if [[ $os == "GNU/Linux" || $os == "Linux" ]]; then
    cat <<'EOF'
                  .88888888:.
                88888888.88888.
              .8888888888888888.
              888888888888888888
              88' _`88'_  `88888
              88 88 88 88  88888
              88_88_::_88_:88888
              88:::,::,:::::8888
              88`:::::::::'`8888
             .88  `::::'    8:88.
            8888            `8:888.
          .8888'             `888888.
         .8888:..  .::.  ...:'8888888:.
        .8888.'     :'     `'::`88:88888
       .8888        '         `.888:8888.
      888:8         .           888:88888
    .888:88        .:           888:88888:
    8888888.       ::           88:888888
    `.::.888.      ::          .88888888
   .::::::.888.    ::         :::`8888'.:.
  ::::::::::.888   '         .::::::::::::
  ::::::::::::.8    '      .:8::::::::::::.
 .::::::::::::::.        .:888:::::::::::::
 :::::::::::::::88:.__..:88888:::::::::::'
  `'.:::::::::::88888888888.88:::::::::'
      `':::_:' -- '' -'-' `':_::::'`
EOF
elif [[ $os == "BSD" ]]; then
    cat <<'EOF'
               ,        ,
              /(        )`
              \ \___   / |
              /- _  `-/  '
             (/\/ \ \   /\
             / /   | `    \
             O O   ) /    |
             `-^--'`<     '
            (_.)  _  )   /
             `.___/`    /
               `-----' /
  <----.     __ / __   \
  <----|====O)))==) \) /====
  <----'    `--' `.__,' \
               |        |
                \       /
           ______( (_  / \______
         ,'  ,-----'   |        \
         `--{__________)        \/   
EOF
elif [[ $os == "Android" ]]; then
    cat <<'EOF'

        **++==                      ==++*+
         **++==                    ==++*+
          **++==   ------------   ==++*+
           **+==------------------==+*+
           ===-------:-:-:----------===
         ===--------------------------===
       ======---==================--=-=====
      ======================================
     =======*#@@#====+=+=+=+=+===*@@%*=======
   ========*%@@@#++++++++++++++++*@@@%*========
  ====++=+++*##*++++++++++++++++++**#*++++=+====
  ===+=+++++++++++++++++++++++++++++++++=+++====
 ====++=++++++++++++++++++++++++++++++++++=++====
 ===+=++++++++++++++++++++++++++++++++++++++=+===
EOF
elif [[ $os == "FreeBSD" ]]; then
    cat <<'EOF'
                 %%#+===+    =---::::::--==     +===+#%%
                  %%%#*-::::=:..... ....::...:==:...:+#%%%
                   #%%##*=-...............:#*-....:-+#%%#                     
                   **%%#-..................=:....:=##%#**                     
                    ++*:...................:-::-+*##%#=+                      
                     -.........:::::::-----:-++*##%%*=+#                      
                    -:.::....::--=+**########***#%%+++=+                      
                   =::--...:-=+*########%%%%%%%%#####*==*                     
                   :--=-:.:=*###########%%%%%%%%%%%%##*-+                     
                  *:-*+===+*##########%%%%%%%%%%%%%%%%#:=                     
                  +:=#*******#######%%%%%%%%%%%%%%%%%%#:=                     
                   :-###*****######%%%%%%%%%%%%%%%%%%%=.=                     
                   -:#####****#####%%%%%%#%%%%%%%%%%#-..=                     
                   +.=%#####****###%%%%%%%%%%%%%%%%*-..:-                     
                    -.+%#######***#%%%%%%%%%%%%%%#**=:.:                      
                     :.+%#########**#########******=-:.                       
                      -:-%%##########*********++*+-:::                        
                        +-=%%#########*********+---=                          
                          +-=*########******+=--=+                            
                             ++=++****++==---=+                               
                                  ##+**+*#     
EOF
elif [[ $os == "OpenBSD" ]]; then
    cat <<'EOF'
                            .
                            A       ;
                  |   ,--,-/ \---,-/|  ,
                 _|\,'. /|      /|   `/|-.
             \`.'    /|      ,            `;.
            ,'\   A     A         A   A _ /| `.;
          ,/  _              A       _  / _   /|  ;
         /\  / \   ,  ,           A  /    /     `/|
        /_| | _ \         ,     ,             ,/  \
       // | |/ `.\  ,-      ,       ,   ,/ ,/      \/
       / @| |@  / /'   \  \      ,              >  /|    ,--.
      |\_/   \_/ /      |  |           ,  ,/        \  ./' __:..
      |  __ __  |       |  | .--.  ,         >  >   |-'   /     `
    ,/| /  '  \ |       |  |     \      ,           |    /
   /  |<--.__,->|       |  | .    `.        >  >    /   (
  /_,' \\  ^  /  \     /  /   `.    >--            /^\   |
        \\___/    \   /  /      \__'     \   \   \/   \  |
         `.   |/          ,  ,                  /`\    \  )
           \  '  |/    ,       V    \          /        `-\
            `|/  '  V      V           \    \.'            \_
             '`-.       V       V        \./'\
                 `|/-.      \ /   \ /,---`\        
                  /   `._____V_____V'
                             '     '
EOF
elif [[ $os == "NetBSD" ]]; then
    cat <<'EOF'
                                                  __,gnnnOCCCCCOObaau,_
                _._                    __,gnnCCCCCCCCOPF"''        ~
               (N\XCbngg,._____.,gnnndCCCCCCCCCCCCF"___,,,,___
                \N\XCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCOOOOPYvv.
                 \N\XCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCPF"''
                  \N\XCCCCCCCCCCCCCCCCCCCCCCCCCOF"'
                   \N\XCCCCCCCCCCCCCCCCCCCCOF"'
                    \N\XCCCCCCCCCCCCCCCPF"'
                     \N\"PCOCCCOCCFP""
                      \N\
                       \N\       
                        \N\
                         \N\
                          \N\
                           \N\
                            \N\
                             \N\
                              \N\
                               \N\
                                \N\

EOF
elif [[ $os == "Darwin" ]]; then
    cat <<'EOF'
              ==================-................:              
          +=====================......................          
        +======================:.......................:        
       +======================-.........................:       
       =======================...........................+      
      +======================:...........................:      
      +======================.............................      
      +====================+:.............................      
      +===========+**=======.............-+:..............      
      ++++++++++++*##++++++-.............+#+..............      
      ++++++++++++*##++++++:.............+#+..............      
      ++++++++++++++++++++=..............:=:..............      
      ++++++++++++++++++++-..............................:      
      ++++++++++++++++++++-:::::::::::::::::::::.........:      
      ++++++++++++++++++++::::::::::::::::::::::::.......:      
      ++++++++++++++++++++:::::::::::::::::::::::::::....:      
      ++++++++++++++++++++-::::::::::::::::::::::::::::..:      
      ++++++++++++++++++++++++++++::::::::::::::::::::::::      
      *+++++++++++++++++++++++++++::::::::::::::::::::::::      
      *++++++++#%#*++++*++++++++++::::::::::+#+:::::::::::      
      ***********#%#*************+:::::::-+#*=::::::::::::      
      *************##%#***********:::--+##*-::::::::::::::      
      ******************##%%%%%%%%%##*+=::::::::::::::::::      
      ****************************=::::::::::::::::::::::-      
      %***************************+::::::::::::::::::::::#      
       #***************************:::::::::::::::::::::=       
        %**************************=:::::::::::::::::::+        
          %*************************:::::::::::::::::+          
            @@%###******************+-----------=+@@ 
EOF
elif [[ $os == "SunOS" || $os == "illumos" ]]; then
    cat <<'EOF'
                                           .                                                        
                                          ..                                                        
                                          .@.              ....                                     
                                          .@..           ...:                                       
                         ....             .@@             %@.                                       
                           .@             :@@.           @@..                                       
                           ..@@.          +@@@.       ..@@*                                         
                              @@@.        #@@@.     ..%@@@                                          
                              .@@@@.      @@@@@     .@@@@..                                         
                              ..@@@@@..   @@@@@..  .@@@@@            ..:=.                          
                                .@@@@@@.. @@@@@@..*@@@@@.         .*@@:..                           
                                ..@@@@@@#..... .....%@@+.     .@@@@@...                             
                 .:@@=            .@@@...           ....  .@@@@@@@...                               
                  ....@@@@@@@%-. ...*..               . @@@@@@@@ ..                                 
                        .@@@@@@@@@@=.                    -@@@@.                                     
                           .+@@@@@%.                     .%%.                                       
                              .:@@..                                                                
                                              ..      ... .    .   . . .     ..      .              
                              .... ..:+%@@@@@@@@@@@@@@@@@@@@@@#+=-:.... .    ........::.            
                      ....:#@@@@@@@@@@@@@@@@@@@@%=....                                              
                 . .%@@@@@@@@@@@@@@@@@@@@@:...                                                      
               .@@@@@@@@@@@@@@@@@@@@@@..                                                            
             .-@@@@@@@@@@@@@@@@@@@@@.                                                               
              .#@@@@@@@@@@@@@@@@@@@@.                                                               
               ....%@@@@@@@@@@@@@@@@@@@-                                                            
                  ........=@@@@@@@@@@@@@@@@@@@:                                                     
                           .... .. . . .:-=*#@@@@@@@@@@@@%*=-.. ..
EOF
elif [[ $os == "HP-UX" ]]; then
    cat <<'EOF'

                                                  #######                                            
                                       #####     #############                                      
                                   #########    #################                                   
                                ###########    #####################                                
                              ############    ########################                              
                             ############     #########################                             
                           ##############    ############################                           
                          ##############     #############################                          
                         ###############    ###############################                         
                        ###############          ########          #########                        
                        ##############             #####             ########                       
                       ###############    ####     ####     #####    ########                       
                      ###############    ####     #####     ####    ##########                      
                      ##############     ####     ####     ####    ###########                      
                      #############     ####     #####    #####    ###########                      
                      #############    #####    #####    #####    ############                      
                      ############     ####    #####     ####     ############                      
                      ############    ####     #####    ####     #############                      
                       ##########    #####    #####     ####    #############                       
                       #########    #####     ####      ###    ##############                       
                        ##########################            ##############                        
                         ########################    ######################                         
                          ######################     #####################                          
                           #####################    #####################                           
                             ##################    ####################                             
                              ################     ###################                              
                                #############     ##################                                
                                   ##########     ###############                                   
                                       #####     ############                                       
                                                ########
EOF 
elif [[ $os == "AIX" ]]; then
    cat <<'EOF'
             ------------                ===================   =======+++++             ++++++++++  
            --------------               ===================     =====+++++            ++++++++++   
            --------------               ===================      ====+++++++         ++++++++++    
           ----------------              ===================       ====+++++++       ++++++++++     
           -----------------                  =========             ====+++++++    +++++++++++      
          ------------------                  =========              ====+++++++  ++++++++++        
         ---------  ---------                 =========                ==++++++++++++++++++         
         ---------  ----------                =========                 ==++++++++++++++++          
        ---------    ---------                =========                  ==++++++++++++++           
       ----------    ----------               =========                   ++++++++++++++            
       ---------      ---------               =========                   +++++++++++++             
      ---------       ----------              =========                  ==+++++++++++++            
      ---------------------------             =========                 ====+++++++++++++           
     ----------------------------             =========                ======++++++++++++++         
     -----------------------------            =========               ========+= +++++++++++        
    ------------------------------            =========              =========+   +++++++++++       
   ----------            ----------           -========            ===========     +++++++++++      
  ----------              ---------      ------=============      ==========+       +++++++++++     
  ----------              ----------     -------============     ==========           +++++++++++   
 ----------                ----------    --------===========    ==========            ++++++++++++  
 ---------                 ----------    ---------==========   ==========               +++++++++++ 
EOF
elif [[ $os == "XENIX" || $os == "Xenix" ]]; then
    cat <<'EOF'
     @@@@@@@@@      @@@@@@@@@ @@@@@@                                                                                     @@@@@@
    @@@@@@@@@@     @@@@@@@@@@ @@@@@@                                                                                   @@@@@@@@ @@@@@@
    @@@@@@@@@@    @@@@@@@@@@@ @@@@@                                                                                   @@@@@@@  @@@@@@
    @@@@@@@@@@   @@@@@@@@@@@ @@@@@@     @@@@@@@@      @@@@@@ @@@@  @@@@@@@@@       @@@@@@@@@@@        @@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@
   @@@@@@@@@@@  @@@@@@@@@@@  @@@@@@  @@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@   @@@@@@@@@@@@@@@   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
   @@@@@@@@@@@ @@@@@@@@@@@@ @@@@@@@ @@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@   @@@@@@@ @@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@
   @@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@   @@@@@@@@@@@@@@@@ @@@@@@@    @@@@@@@@@@@@@@@@@@      @@@@@@@     @@@@@@  @@@@@@   @@@@@@
  @@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@           @@@@@@@  @@@@@@@     @@@@@@@ @@@@@@@@@@@@@@ @@@@@@@      @@@@@@ @@@@@@@  @@@@@@@
 @@@@@@@@@@@@@@@@@ @@@@@@@ @@@@@@@@@@@@@           @@@@@@@  @@@@@@@@     @@@@@      @@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@   @@@@@@
 @@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@ @@@@@@    @@@@@@@@@@@@@    @@@@@@@   @@@@@@@@@@@@@@    @@@@@@@@@@@@@@    @@@@@@@ @@@@@@@  @@@@@@@
 @@@@@@@ @@@@@@@  @@@@@@@ @@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@  @@@@@@   @@@@@@@@@
@@@@@@@@ @@@@@@@ @@@@@@@@@@@@@@@   @@@@@@@@@@@@@  @@@@@@       @@@@@@@@@@@@@   @@@@@@@@@@@@@@@    @@@@@@@@@@@@@   @@@@@@@   @@@@@@@@@
                                      @@@@@@@     @@@@@@         @@@@@@@          @@@@@@@@@          @@@@@@        @@@@@        @@@@
EOF
elif [[ $os == "Haiku" || $os == "HaikuOS" ]]; then
    cat <<'EOF'

                  @@@@         @@@                @                @@@         @@@@      @@@@@       @@@         @@@
                  @@@@         @@@               @@@               @@@         @@@@    @@@@@         @@@         @@@
                  @@@@         @@@              @@@@@              @@@         @@@@   @@@@           @@@         @@@
                  @@@@         %##---          @@@ @@@             @@@         @@@@ @@@@             @@@    :    @@@
                  @@@@    -----=====          @@@@  @@@            @@@         @@@@@@@               @@@    -:   @@@
                  @@@%-============          @@#+++++#@@           @@@         @@@@@@@               @@@     ::- @@@
           ----   -==============%        ==============+          @@@         @@@@ @@@@             @@@      --:+@@
                  ++====+++++==@@@     ===================         @@@         @@@@  @@@@            @@@      ----:=:
                  @@@@++++++=  @@@      =====+===============      @@@         @@@@   @@@@@          @@@@     -----:::::
                  @@@@         @@@        @@@           @@@  ---   @@@         @@@@     @@@@          @@@@@    %+---:::::
                  @@@@         @@@       @@@@            @@@   --  @@@         @@@@      @@@@@         @@@@@@@@@@=--::::::
                                                                                                                         ::
EOF
elif [[ $os == "Minix" || $os == "Minix3" ]]; then
    cat <<'EOF'
      @@                           @@      
     @@@%                         @@@@     
  @%@@@@%@@@                   @@@@@%@@@%  
 @@@@@@@@@%@@@               @@@@@%@@@@@%@ 
 %@@@@%@@@@@@@@             @@@@@@@@@%@@@@@
 @%@@@@@@@@@@@@%@@        @@@@@%@@@@@@@%%%@
 @@@%@%@@%@@@%@@@@@     @@%@@@@@@@@%@@@@@@@
 @@@@@@@@@@@@@@@@@@%@ @@@@@@@@@%@@@@@@%@@@@
 @@@@@@@@@@@%@%@@@@@@@@@%%@@@@@@@@@@@@@@@@@
 @@@@@@@@@@@@@%@@@@@@@@@@@@@%@@@@@@@@%@@@@%
 %@@@@@@@@%@@@@@@@@@@@@%@@@@@@@%@@@@@%@@@@@
 @@@@%@@@@@@@@@@%@@%@@@@@@@@@@@%@@@%@@@@@@@
 @@@@@@@@@@%%%@@@@@@@@@@@@@@@@@@@@%@@@@@@@@
 @@@@%@@@@@@@@@%@@@@@%%%@@@@@@@@@@@@@@@@@@@
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@ @@%@@@@%@
 @%@@@%@%@@@@@@@@%@@%@@@@@@@@@@@@@@%@%@@@@@
 @@@@%%@@@@@@@@@@@@@@@@@%@@%@@@@@@@@@@@@@%@
 @@@@@@@@@@@@@ @@%@@@@@@%@@@ @@@@@@@%@@@@@@
 @@@@@@@@@@@@%   @%@@%@@@%   %@@@@@%%@@%@@@
 @@@@@@@@@@@@@     %@@@%     %%@@@@@@@@@@@@
 @@@@@@@@@@@%@       @%      @@@@@@@@@@@@@@
 %@@@@@@@@@%%@               @@@@@@%@@@@@@@
 @@@@@@@@@@%@@               @@%@@@@%@@@@@ 
  @@@@@@@@@%                   %@%%@@@@@   
     @@@@                         @@@%
EOF
else
    cat <<'EOF'
@@@@@@      @@@@@@    @@@@@@@@      @@@@@     @@@@@@   @@@@@@       @@@@@@@
@@@@@@      @@@@@@    @@@@@@@@@     @@@@@     @@@@@@    @@@@@@@    @@@@@@
@@@@@@      @@@@@@    @@@@@@@@@@    @@@@@     @@@@@@      @@@@@@  @@@@@@
@@@@@@      @@@@@@    @@@@@@@@@@@   @@@@@     @@@@@@       @@@@@@@@@@@@
@@@@@@      @@@@@@    @@@@@@@@@@@@  @@@@@     @@@@@@        @@@@@@@@@@
@@@@@@      @@@@@@    @@@@@@  @@@@@ @@@@@     @@@@@@         @@@@@@@@
@@@@@@      @@@@@@    @@@@@@   @@@@@@@@@@     @@@@@@        @@@@@@@@@@
@@@@@@      @@@@@@    @@@@@@   @@@@@@@@@@     @@@@@@      @@@@@@@@@@@@@@
@@@@@@@    @@@@@@     @@@@@@    @@@@@@@@@     @@@@@@     @@@@@@@  @@@@@@@
 @@@@@@@@@@@@@@@@     @@@@@@      @@@@@@@     @@@@@@    @@@@@@     @@@@@@@
   @@@@@@@@@@@@       @@@@@@       @@@@@@     @@@@@@   @@@@@@        @@@@@@
EOF
fi



printf '\n\n'
echo "OS: $os"
echo "Kernel: $(uname 2>/dev/null) $(uname -r 2>/dev/null)"
echo "Hostname: $(hostname 2>/dev/null)"
echo "User: $(whoami 2>/dev/null)" || echo 'N/A' 2>/dev/null)
echo "CPU cores: $(nproc 2>/dev/null || sysctl -n hw.ncpu 2>/dev/null || echo 'N/A')"
if [[ -f /proc/meminfo ]]; then
    mem_kb=$(grep MemTotal /proc/meminfo | awk '{print $2}')
    mem_gb=$(awk "BEGIN {printf \"%.2f\", $mem_kb/1048576}")
    echo "Memory: ${mem_gb} GB"
elif command -v sysctl >/dev/null; then
    mem_bytes=$(sysctl -n hw.memsize 2>/dev/null || sysctl -n hw.physmem 2>/dev/null)
    if [[ -n $mem_bytes ]]; then
        mem_gb=$(awk "BEGIN {printf \"%.2f\", $mem_bytes/1073741824}")
        echo "Memory: ${mem_gb} GB"
    else
        echo "Memory: N/A"
    fi
else
    echo "Memory: N/A"
fi
echo "CPU arch: $(uname -m 2>/dev/null)"
if [[ -f /proc/cpuinfo ]]; then
    cpu_model=$(awk -F: '/model name/ {print $2; exit}' /proc/cpuinfo | sed 's/^ //')
elif command -v sysctl >/dev/null; then
    cpu_model=$(sysctl -n machdep.cpu.brand_string 2>/dev/null || sysctl -n hw.model 2>/dev/null)
else
    cpu_model="N/A"
fi
echo "CPU model: ${cpu_model}"
echo "Shell: $SHELL"
echo "Uptime: $(uptime 2>/dev/null)"
echo "Boot time:$(who -b 2>/dev/null)"
echo "WD: $(pwd 2>/dev/null)"
